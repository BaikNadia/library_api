# Library Management System API

Django REST Framework API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π —Å JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π, —Ä–æ–ª–µ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π –∏ –ø–æ–ª–Ω—ã–º CRUD —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º.

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### üìö –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–∏–≥–∞–º–∏
- –ü–æ–ª–Ω—ã–π CRUD –¥–ª—è –∫–Ω–∏–≥
- –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, ISBN, –∞–≤—Ç–æ—Ä—É
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∂–∞–Ω—Ä—É, –∞–≤—Ç–æ—Ä—É
- –£—á–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤

### üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ —Ä–æ–ª–∏
- **–ß–∏—Ç–∞—Ç–µ–ª–∏** - –ø—Ä–æ—Å–º–æ—Ç—Ä –∫–Ω–∏–≥, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–∏–º–∏ –∑–∞–π–º–∞–º–∏
- **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ä–∏** - –ø–æ–ª–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–∏–≥–∞–º–∏, –∞–≤—Ç–æ—Ä–∞–º–∏, –∑–∞–π–º–∞–º–∏
- **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã** - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º

### üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –†–æ–ª–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø–∞
- –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### üìñ –°–∏—Å—Ç–µ–º–∞ –∑–∞–π–º–æ–≤ –∫–Ω–∏–≥
- –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–π–º–æ–≤ –∫–Ω–∏–≥
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –ø—Ä–æ—Å—Ä–æ—á–µ–∫
- –í–æ–∑–≤—Ä–∞—Ç –∫–Ω–∏–≥
- –ò—Å—Ç–æ—Ä–∏—è –∑–∞–π–º–æ–≤

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Backend**: Django 4.2, Django REST Framework
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: JWT (Simple JWT)
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: Swagger/OpenAPI
- **CORS**: django-cors-headers
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: django-filter

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone https://github.com/BaikNadia/library_api.git
cd library_api

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python -m venv .venv
source .venv/bin/activate  # Linux/MacOS
# –ò–õ–ò
.venv\Scripts\activate     # Windows

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:
SECRET_KEY=your-secret-key-here
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0

DB_NAME=library_api
DB_USER=postgres
DB_PASSWORD=your-password
DB_HOST=localhost
DB_PORT=5432

### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω, –∏ —Å–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:
CREATE DATABASE library_api;

### 6. –ú–∏–≥—Ä–∞—Ü–∏–∏
python manage.py makemigrations
python manage.py migrate

### 7. –°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
python manage.py createsuperuser

### 8. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
python manage.py runserver
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: http://127.0.0.1:8000

üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å–∞–º:

Swagger UI: http://127.0.0.1:8000/swagger/

ReDoc: http://127.0.0.1:8000/redoc/

üîå API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã
–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
POST /api/auth/register/ - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

POST /api/auth/login/ - –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É (–ø–æ–ª—É—á–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–æ–≤)

POST /api/auth/token/refresh/ - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ access —Ç–æ–∫–µ–Ω–∞

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
GET /api/users/profile/ - –ü—Ä–æ—Ñ–∏–ª—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

GET /api/users/ - –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ç–æ–ª—å–∫–æ –¥–ª—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ä–µ–π/–∞–¥–º–∏–Ω–æ–≤)

–ö–Ω–∏–≥–∏
GET /api/books/ - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–Ω–∏–≥

POST /api/books/ - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∫–Ω–∏–≥–∏ (–±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ä–∏/–∞–¥–º–∏–Ω—ã)

GET /api/books/{id}/ - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–Ω–∏–≥–µ

PUT/PATCH /api/books/{id}/ - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–Ω–∏–≥–∏ (–±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ä–∏/–∞–¥–º–∏–Ω—ã)

DELETE /api/books/{id}/ - –£–¥–∞–ª–µ–Ω–∏–µ –∫–Ω–∏–≥–∏ (–∞–¥–º–∏–Ω—ã)

–ê–≤—Ç–æ—Ä—ã
GET /api/authors/ - –°–ø–∏—Å–æ–∫ –∞–≤—Ç–æ—Ä–æ–≤

POST /api/authors/ - –°–æ–∑–¥–∞–Ω–∏–µ –∞–≤—Ç–æ—Ä–∞ (–±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ä–∏/–∞–¥–º–∏–Ω—ã)

GET /api/authors/{id}/ - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–≤—Ç–æ—Ä–µ

PUT/PATCH /api/authors/{id}/ - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∞ (–±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ä–∏/–∞–¥–º–∏–Ω—ã)

DELETE /api/authors/{id}/ - –£–¥–∞–ª–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∞ (–∞–¥–º–∏–Ω—ã)

–ó–∞–π–º—ã –∫–Ω–∏–≥
GET /api/loans/ - –°–ø–∏—Å–æ–∫ –∑–∞–π–º–æ–≤ (—Å–≤–æ–∏ –¥–ª—è —á–∏—Ç–∞—Ç–µ–ª–µ–π, –≤—Å–µ –¥–ª—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ä–µ–π)

POST /api/loans/ - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∑–∞–π–º–∞

GET /api/loans/{id}/ - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–π–º–µ

PATCH /api/loans/{id}/ - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–π–º–∞ (–≤–æ–∑–≤—Ä–∞—Ç –∫–Ω–∏–≥–∏)

DELETE /api/loans/{id}/ - –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–π–º–∞ (–±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ä–∏/–∞–¥–º–∏–Ω—ã)

üîí –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (User)
username, email, first_name, last_name

user_type: reader/librarian/admin

phone, address

–ê–≤—Ç–æ—Ä (Author)
name, bio, birth_date, death_date

–ö–Ω–∏–≥–∞ (Book)
title, isbn, genre, publication_date

publisher, description

total_copies, available_copies

–°–≤—è–∑—å many-to-many —Å –∞–≤—Ç–æ—Ä–∞–º–∏

–ó–∞–π–º –∫–Ω–∏–≥–∏ (BookLoan)
book (ForeignKey), user (ForeignKey)

borrowed_date, due_date, returned_date

status: borrowed/returned/overdue

–ú–µ—Ç–æ–¥ is_overdue() - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –ø—Ä–æ—Å—Ä–æ—á–∫–∏

üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
curl -X POST http://127.0.0.1:8000/api/auth/register/ \
  -H "Content-Type: application/json" \
  -d '{
    "username": "testuser",
    "password": "SecurePass123!",
    "password2": "SecurePass123!",
    "email": "test@example.com",
    "first_name": "Test",
    "last_name": "User",
    "user_type": "reader"
  }'

–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É:
curl -X POST http://127.0.0.1:8000/api/auth/login/ \
  -H "Content-Type: application/json" \
  -d '{
    "username": "testuser",
    "password": "SecurePass123!"
  }'

–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–π–º–∞ –∫–Ω–∏–≥–∏:
curl -X POST http://127.0.0.1:8000/api/loans/ \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "book": 1,
    "due_date": "2024-12-31"
  }'

–í–æ–∑–≤—Ä–∞—Ç –∫–Ω–∏–≥–∏:
curl -X PATCH http://127.0.0.1:8000/api/loans/1/ \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "status": "returned"
  }'

üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:
library_api/
‚îú‚îÄ‚îÄ core/                    # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ models.py           # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ serializers.py      # –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã DRF
‚îÇ   ‚îú‚îÄ‚îÄ views.py            # –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ permissions.py      # –ö–∞—Å—Ç–æ–º–Ω—ã–µ permissions
‚îÇ   ‚îî‚îÄ‚îÄ admin.py            # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îú‚îÄ‚îÄ library/                # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ settings.py         # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Django
‚îÇ   ‚îú‚îÄ‚îÄ urls.py             # –ú–∞—Ä—à—Ä—É—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ wsgi.py             # WSGI –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ static/                 # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ .env.example            # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt        # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ manage.py              # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Django

üë• –†–æ–ª–∏ –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è:
–ß–∏—Ç–∞—Ç–µ–ª—å (Reader)
–ü—Ä–æ—Å–º–æ—Ç—Ä –∫–Ω–∏–≥ –∏ –∞–≤—Ç–æ—Ä–æ–≤

–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–π–º–æ–≤ –∫–Ω–∏–≥

–ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–∏–º–∏ –∑–∞–π–º–∞–º–∏

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ä—å (Librarian)
–í—Å–µ –ø—Ä–∞–≤–∞ —á–∏—Ç–∞—Ç–µ–ª—è

–°–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–Ω–∏–≥ –∏ –∞–≤—Ç–æ—Ä–æ–≤

–ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∑–∞–π–º–æ–≤

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–π–º–∞–º–∏ –ª—é–±–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (Admin)
–í—Å–µ –ø—Ä–∞–≤–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ä—è

–£–¥–∞–ª–µ–Ω–∏–µ –∫–Ω–∏–≥, –∞–≤—Ç–æ—Ä–æ–≤, –∑–∞–π–º–æ–≤

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º

üêõ Troubleshooting
–ü—Ä–æ–±–ª–µ–º—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ .env

–í—ã–ø–æ–ª–Ω–∏—Ç–µ python manage.py migrate

–ü—Ä–æ–±–ª–µ–º—ã —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å JWT —Ç–æ–∫–µ–Ω–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω –Ω–µ –∏—Å—Ç–µ–∫

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /api/auth/token/refresh/ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ user_type –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω

üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è —É—á–µ–±–Ω—ã–º –∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π Django REST Framework.

üë®‚Äçüíª –ê–≤—Ç–æ—Ä
BaikNadia

GitHub: @BaikNadia

‚≠ê –ù–µ –∑–∞–±—É–¥—å—Ç–µ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –∑–≤–µ–∑–¥—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é, –µ—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –±—ã–ª –ø–æ–ª–µ–∑–µ–Ω!
